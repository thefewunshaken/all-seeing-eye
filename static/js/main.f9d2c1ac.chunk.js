(this["webpackJsonpsmart-brain-front"]=this["webpackJsonpsmart-brain-front"]||[]).push([[0],{106:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n.n(a),r=n(49),c=n.n(r),i=(n(106),n(5)),o=n(9),l=n.n(o),u=n(23),b=n(7),d=n(3),p=function(e){var t=e.onRouteChange;return e.isSignedIn?Object(d.jsx)("nav",{className:"absolute right-1",children:Object(d.jsx)("p",{onClick:function(){return t("signin")},className:"f3 link dim black underline pa3 pointer",children:"Sign Out"})}):Object(d.jsx)("nav",{className:"absolute right-1"})},m=(n(109),function(e){var t=e.image,n=e.boundingBoxes;return console.log(t,n),Object(d.jsx)("div",{className:"relative flex justify-center w-75 center",children:Object(d.jsxs)("div",{className:"absolute mt2 mw-100",children:[Object(d.jsx)("img",{src:t,id:"input-image",width:"auto",height:"auto",alt:"".concat(""!==t?"user submitted group of people":"")}),n.length&&t?n.map((function(e,t){return Object(d.jsx)("div",{className:"bounding-box absolute flex flex-wrap justify-center pointer",style:{top:e.top_row,right:e.right_col,bottom:e.bottom_row,left:e.left_col}},t)})):null]})})}),A=n(64),j=function(e,t){return[-(9*t-window.innerHeight/2)/20,(4*e-window.innerWidth/2)/20,1.05]},g=function(e,t,n){return"perspective(600px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(n,")")},f=function(){var e=Object(A.useSpring)((function(){return{xys:[0,0,1],config:{mass:5,tension:350,friction:40}}})),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)(A.animated.div,{className:"ma4 mt0 h4 w4 pa3 top-0",onMouseMove:function(e){var t=e.clientX,n=e.clientY;return a({xys:j(t,n)})},onMouseLeave:function(){return a({xys:[0,0,1]})},style:{transform:n.xys.to(g)},children:Object(d.jsx)("img",{src:"data:image/png;base64,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",alt:"face"})})},h=function(e){var t=e.onInputChange,n=e.onPictureSubmit;return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"f3 mb0 white tc",children:"I can see your face."}),Object(d.jsx)("div",{className:"flex justify-center",children:Object(d.jsxs)("div",{className:"w-50-l pa4 br3 flex flex-row-ns flex-column items-center",children:[Object(d.jsx)("input",{className:"f4 pa2 w-70 center",type:"text",name:"",id:"",onChange:t}),Object(d.jsx)("button",{className:"w-70 w-30-ns f4 ph3 pv2 dib bg-white black bn dim",onClick:n,children:" Detect "})]})})]})},x=function(e){var t=e.user;return Object(d.jsxs)("div",{className:"white tc",children:[Object(d.jsxs)("div",{className:"f3",children:["".concat(t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name)||"Hey there",", your current rank is"]}),Object(d.jsx)("div",{className:"f1",children:t.entries||0})]})},O=n(32),v=n(17),w=function(e){var t=e.timing,n=void 0===t?250:t,s=e.timeout,r=void 0===s?2500:s,c=e.children,i=Object(a.useState)(!1),o=Object(b.a)(i,2),l=o[0],u=o[1],p=Object(a.useState)(!1),m=Object(b.a)(p,2),A=m[0],j=m[1],g={opacity:A?1:0,backfaceVisibility:"hidden",zIndex:100,transform:l?"translateY(0)":"translateY(-25px)",transition:"all ".concat(n,"ms")};return Object(a.useEffect)((function(){if(l){var e=window.setTimeout((function(){j(!1),u(!1)}),r);return function(){window.clearTimeout(e)}}}),[l,r]),Object(a.useEffect)((function(){c&&(j(!0),u(!0))}),[c]),Object(d.jsx)("span",{style:g,children:c})},y=function(e){var t=e.onRouteChange,n=e.initializeActiveUser,s=e.serverEndpoint,r=Object(a.useState)({email:"",plainTextPassword:""}),c=Object(b.a)(r,2),o=c[0],p=c[1],m=Object(a.useState)({messages:[],shouldDisplay:!0}),A=Object(b.a)(m,2),j=A[0],g=A[1];Object(a.useEffect)((function(){var e=document.querySelector("#error-messages-container"),t=50*(e.children.length-1);e.style.setProperty("--offset","".concat(t,"px"));var n=window.setInterval((function(){var e=j.messages;e.pop(),g(Object(i.a)(Object(i.a)({},j),{},{messages:Object(v.a)(e),shouldDisplay:!1}))}),4500);return function(){window.clearInterval(n)}}),[j]),Object(a.useEffect)((function(){var e=document.querySelector("#submit-sign-in"),t=!0;for(var n in o)if(!n.length||!x(n,o[n])){t=!1;break}t?(e.style.setProperty("background-color","var(--green)"),e.style.setProperty("border-color","transparent")):(e.style.setProperty("background-color","transparent"),e.style.setProperty("border-color","black"))}),[o]);var f=function(){var e=Object(u.a)(l.a.mark((function e(){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.email&&o.plainTextPassword){e.next=4;break}return y("Please fill out all fields."),e.abrupt("return");case 4:return e.next=6,fetch("".concat(s,"/signin"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 6:return a=e.sent,e.next=9,a.json();case 9:if((r=e.sent).error){e.next=14;break}return n(r),t("home"),e.abrupt("return");case 14:return y(r.message),e.abrupt("return");case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),h=function(e){g(Object(i.a)(Object(i.a)({},j),{},{messages:[]}));var t=e.target.name,n=e.target.value,a=Object(O.a)({},t,n);x(t,n)?e.target.style.setProperty("border-color","var(--green)"):e.target.style.setProperty("border-color","var(--light-gray)"),p(Object(i.a)(Object(i.a)({},o),a))},x=function(e,t){if("email"===e)return new RegExp(/^.+@.+\..+/).test(t);if("plainTextPassword"===e)return new RegExp(/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/).test(t);throw new Error("Unrecognized field on signup form: ".concat(e))},y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0===j.messages.find((function(t){return t===e}))?g(Object(i.a)(Object(i.a)({},j),{},{messages:[e].concat(Object(v.a)(j.messages)),shouldDisplay:t})):g(Object(i.a)(Object(i.a)({},j),{},{messages:Object(v.a)(j.messages),shouldDisplay:t}))};return Object(d.jsx)("main",{className:"relative pa4 black-80 br2 ba dark-gay b--black-10 mv4 w-100 w-50-m w-30-l mw5 mw6-ns center bg-white",children:Object(d.jsxs)("div",{className:"measure center",children:[Object(d.jsxs)("fieldset",{id:"sign_in",className:"ba b--transparent ph0 mh0",children:[Object(d.jsx)("legend",{className:"f2 fw6 ph0 mh0 center",children:"Sign In"}),Object(d.jsxs)("div",{className:"mt3",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"email-address",children:"Email"}),Object(d.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"email",name:"email",id:"email",onChange:h})]}),Object(d.jsxs)("div",{className:"mt2",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{className:"b pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"password",name:"plainTextPassword",id:"plainTextPassword",onChange:h})]})]}),Object(d.jsxs)("div",{className:"lh-copy mt3 tc",children:[Object(d.jsx)("div",{id:"error-messages-container",className:"absolute left-0 right-0 w-100 flex flex-column tooltip",children:j.messages.length&&j.shouldDisplay?j.messages.map((function(e,t){return Object(d.jsx)(w,{children:Object(d.jsx)("div",{className:"relative left-0 right-0 w-100 flex justify-center content-center pv2 ph1 bg-white ba b--black-10 br-pill",children:Object(d.jsx)("span",{className:"b blue tl",children:e})})},t)})):null}),Object(d.jsx)("input",{className:"b ph4 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",id:"submit-sign-in",type:"submit",value:"Sign in",onClick:f})]}),Object(d.jsx)("div",{className:"lh-copy mt3 tc",children:Object(d.jsx)("p",{className:"f6 link dim black di pointer",onClick:function(){return t("signup")},children:"Sign up"})})]})})},N=function(e){var t=e.onRouteChange,n=e.initializeActiveUser,s=e.serverEndpoint,r=Object(a.useState)({firstName:"",lastName:"",username:"",email:"",plainTextPassword:""}),c=Object(b.a)(r,2),o=c[0],p=c[1],m=Object(a.useState)({messages:[],shouldDisplay:!0}),A=Object(b.a)(m,2),j=A[0],g=A[1],f=Object(a.useState)(!1),h=Object(b.a)(f,2),x=h[0],y=h[1];Object(a.useEffect)((function(){var e=document.querySelector("#error-messages-container"),t=50*(e.children.length-1);e.style.setProperty("--offset","".concat(t,"px"));var n=window.setInterval((function(){var e=j.messages;e.pop(),g(Object(i.a)(Object(i.a)({},j),{},{messages:Object(v.a)(e),shouldDisplay:!1}))}),4500);return function(){window.clearInterval(n)}}),[j]),Object(a.useEffect)((function(){var e=document.querySelector("#submit-sign-up"),t=!0;for(var n in o)if(!n.length||!F(n,o[n])){t=!1;break}t?(e.style.setProperty("background-color","var(--green)"),e.style.setProperty("border-color","transparent")):(e.style.setProperty("background-color","transparent"),e.style.setProperty("border-color","black"))}),[o]);var N=function(){var e=Object(u.a)(l.a.mark((function e(){var a,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=!0,e.t0=l.a.keys(o);case 3:if((e.t1=e.t0()).done){e.next=11;break}if(!(r=e.t1.value).length||!F(r,o[r])){e.next=7;break}return e.abrupt("continue",3);case 7:return a=!1,e.abrupt("break",11);case 11:if(!a){e.next=28;break}return e.next=14,fetch("".concat(s,"/signup"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 14:return c=e.sent,e.next=17,c.json();case 17:if((i=e.sent).error){e.next=24;break}return n(i),t("home"),e.abrupt("return");case 24:return C(i.error),e.abrupt("return");case 26:e.next=33;break;case 28:if(o.email&&o.username&&o.plainTextPassword){e.next=32;break}return e.abrupt("return",C("Please fill out all required fields."));case 32:return e.abrupt("return",C("Please provide valid input."));case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(0),console.log(e.t2);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(){return e.apply(this,arguments)}}(),C=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0===j.messages.find((function(t){return t===e}))?g(Object(i.a)(Object(i.a)({},j),{},{messages:[e].concat(Object(v.a)(j.messages)),shouldDisplay:t})):g(Object(i.a)(Object(i.a)({},j),{},{messages:Object(v.a)(j.messages),shouldDisplay:t}))},k=function(e){g(Object(i.a)(Object(i.a)({},j),{},{messages:[]}));var t=e.target.name,n=e.target.value,a=Object(O.a)({},t,n);F(t,n)?e.target.style.setProperty("border-color","var(--green)"):e.target.style.setProperty("border-color","var(--light-gray)"),p(Object(i.a)(Object(i.a)({},o),a))},B=function(e){"plainTextPassword"!==e.target.name?y(!1):y(!0)},F=function(e,t){if("username"===e)return t.length>=5&&t.length<=100;if("firstName"===e||"lastName"===e)return new RegExp(/^[a-zA-Z]+$/).test(t);if("email"===e)return new RegExp(/^.+@.+\..+/).test(t);if("plainTextPassword"===e)return new RegExp(/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/).test(t);throw new Error("Unrecognized field on signup form: ".concat(e))};return Object(d.jsx)("main",{className:"relative pa4 black-80 br2 ba dark-gay b--black-10 mv4 w-100 w-50-m w-30-l mw5 mw6-ns center bg-white",children:Object(d.jsxs)("div",{className:"measure center",children:[Object(d.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(d.jsx)("legend",{className:"f2 fw6 ph0 mh0 center",children:"Sign Up"}),Object(d.jsxs)("div",{className:"mt3",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"firstName",children:"First Name"}),Object(d.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"text",name:"firstName",id:"firstName",onChange:k,onFocus:B})]}),Object(d.jsxs)("div",{className:"mt2",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"lastName",children:"Last Name"}),Object(d.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"text",name:"lastName",id:"lastName",onChange:k,onFocus:B})]}),Object(d.jsxs)("div",{className:"mt2",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"text",name:"username",id:"username",onChange:k,onFocus:B})]}),Object(d.jsxs)("div",{className:"mt2",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"email-address",children:"Email"}),Object(d.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"email",name:"email",id:"email","aria-required":"true",required:"required",onChange:k,onFocus:B})]}),Object(d.jsxs)("div",{className:"mt2 mb3",children:[Object(d.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"plainTextPassword",children:"Password"}),Object(d.jsx)("input",{className:"b pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"password",name:"plainTextPassword",id:"plainTextPassword","aria-required":"true",required:"required",onChange:k,onFocus:B}),x&&!F("plainTextPassword",o.plainTextPassword)?Object(d.jsx)("p",{className:"tl lh-copy f6 gray mt1",children:"6 character minimum. Must contain at least 1 number, 1 lowercase letter"}):null]})]}),Object(d.jsxs)("div",{className:"lh-copy mt2 tc",children:[Object(d.jsx)("div",{id:"error-messages-container",className:"absolute left-0 right-0 w-100 flex flex-column",children:j.messages.length&&j.shouldDisplay?j.messages.map((function(e,t){return Object(d.jsx)(w,{children:Object(d.jsx)("div",{className:"relative left-0 right-0 w-100 flex justify-center content-center mv1 pv2 ph1 bg-white ba b--black-10 br-pill",children:Object(d.jsx)("span",{className:"b blue tl",children:e})})},t)})):null}),Object(d.jsx)("input",{className:"b ph5 pv2 input-reset ba b--black bg-transparent grow pointer f6",id:"submit-sign-up",type:"submit",value:"Sign Up",onClick:N})]}),Object(d.jsx)("div",{className:"lh-copy mt3 tc",children:Object(d.jsx)("p",{className:"f6 link dim black pointer di",onClick:function(){return t("signin")},children:"Back to Sign In"})})]})})},C=(n(110),n(101)),k=n.n(C),B={particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}},F="http://localhost:3000";var E=function(){var e=Object(a.useState)({}),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(b.a)(r,2),o=c[0],A=c[1],j=Object(a.useState)(""),g=Object(b.a)(j,2),O=g[0],v=g[1],w=Object(a.useState)({}),C=Object(b.a)(w,2),E=(C[0],C[1]),I=Object(a.useState)({}),P=Object(b.a)(I,2),L=P[0],Q=P[1],H=Object(a.useState)("signin"),Y=Object(b.a)(H,2),S=Y[0],z=Y[1],R=Object(a.useState)(!1),T=Object(b.a)(R,2),D=T[0],K=T[1],U=Object(a.useState)(!1),M=Object(b.a)(U,2),G=(M[0],M[1]);Object(a.useEffect)((function(){console.log(S),S.match(/^(?:sign)(?:out|in|up)/gm)?(K(!1),s({}),A(""),v(""),Q(""),E({}),G(!1)):K(!0)}),[S]);var q=function(e){console.log("calculateFaceLocation called"),console.log(e);var t=[];e[2].data.regions.length&&e[2].data.regions.forEach((function(e){t.push(e.region_info.bounding_box)}));document.getElementById("input-image");return t.forEach((function(e){e.left_col="".concat(100*e.left_col,"%"),e.top_row="".concat(100*e.top_row,"%"),e.right_col="".concat(100*(1-e.right_col),"%"),e.bottom_row="".concat(100*(1-e.bottom_row),"%")})),t},W=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(F,"/image"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:o})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,G(!0),E(n),a=q(n),Q(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),G(!1),console.log(e.t0);case 16:case"end":return e.stop()}var a}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){z(e)},V=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),e.next=4,fetch("".concat(F,"/update-entries"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userUUID:n.uuid,entries:n.entries})});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,s(Object(i.a)(Object(i.a)({},n),{},{entries:a.entries})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e){console.log(e),s(e)};return Object(d.jsxs)("div",{className:"App flex flex-column pt1",children:[Object(d.jsx)(k.a,{params:B,className:"particles"}),Object(d.jsx)(p,{onRouteChange:X,isSignedIn:D}),Object(d.jsx)(f,{}),"signin"===S?Object(d.jsx)(y,{onRouteChange:X,initializeActiveUser:Z,serverEndpoint:F}):"signup"===S?Object(d.jsx)(N,{onRouteChange:X,initializeActiveUser:Z,serverEndpoint:F}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(x,{user:n}),Object(d.jsx)(h,{onInputChange:function(e){v(""),A(e.target.value)},onPictureSubmit:function(){o&&(console.log("onButtonSubmit called"),v(o),W(),V())}}),Object(d.jsx)(m,{image:O,boundingBoxes:L}),Object(d.jsxs)("div",{className:"tc",children:["Icons made by ",Object(d.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," from ",Object(d.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,353)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};n(351);c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root")),I()}},[[352,1,2]]]);
//# sourceMappingURL=main.f9d2c1ac.chunk.js.map