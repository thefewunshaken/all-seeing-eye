(this["webpackJsonpsmart-brain-front"]=this["webpackJsonpsmart-brain-front"]||[]).push([[0],{116:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),r=a(33),c=a.n(r),i=a(53),o=a(54),l=a(105),u=(a(115),a(116),a(4)),b=function(e){var t=e.onRouteChange;return e.isSignedIn?Object(u.jsx)("nav",{className:"absolute right-1",children:Object(u.jsx)("p",{onClick:function(){return t("signin")},className:"f3 link dim black underline pa3 pointer",children:"Sign Out"})}):Object(u.jsx)("nav",{className:"absolute right-1"})},d=(a(118),function(e){var t=e.image,a=e.boundingBoxes;return console.log(t,a),Object(u.jsx)("div",{className:"relative flex justify-center w-75 center",children:Object(u.jsxs)("div",{className:"absolute mt2 mw-100",children:[Object(u.jsx)("img",{src:t,id:"input-image",width:"auto",height:"auto",alt:"".concat(""!==t?"user submitted group of people":"")}),a.length&&t?a.map((function(e,t){return Object(u.jsx)("div",{className:"bounding-box absolute flex flex-wrap justify-center pointer",style:{top:e.top_row,right:e.right_col,bottom:e.bottom_row,left:e.left_col}},t)})):null]})})}),m=a(11),A=a(69),g=function(e,t){return[-(9*t-window.innerHeight/2)/20,(4*e-window.innerWidth/2)/20,1.05]},p=function(e,t,a){return"perspective(600px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(a,")")},j=function(){var e=Object(A.useSpring)((function(){return{xys:[0,0,1],config:{mass:5,tension:350,friction:40}}})),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(u.jsx)(A.animated.div,{className:"ma4 mt0 h4 w4 pa3 top-0",onMouseMove:function(e){var t=e.clientX,a=e.clientY;return n({xys:g(t,a)})},onMouseLeave:function(){return n({xys:[0,0,1]})},style:{transform:a.xys.to(p)},children:Object(u.jsx)("img",{src:"data:image/png;base64,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",alt:"face"})})},h=function(e){var t=e.onInputChange,a=e.onPictureSubmit;return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"f3 mb0 white tc",children:"I can see your face."}),Object(u.jsx)("div",{className:"flex justify-center",children:Object(u.jsxs)("div",{className:"w-50-l pa4 br3 flex flex-row-ns flex-column items-center",children:[Object(u.jsx)("input",{className:"f4 pa2 w-70 center",type:"text",name:"",id:"",onChange:t}),Object(u.jsx)("button",{className:"w-70 w-30-ns f4 ph3 pv2 dib bg-white black bn dim",onClick:a,children:" Detect "})]})})]})},f=function(e){var t=e.user;return Object(u.jsxs)("div",{className:"white tc",children:[Object(u.jsxs)("div",{className:"f3",children:["".concat(t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name)||"Hey there",", your current rank is"]}),Object(u.jsx)("div",{className:"f1",children:t.entries||0})]})},x=a(36),O=a(10),v=a.n(O),w=a(27),y=a(18),N=a(13),C=function(e){var t=e.timing,a=void 0===t?250:t,s=e.timeout,r=void 0===s?2500:s,c=e.children,i=Object(n.useState)(!1),o=Object(m.a)(i,2),l=o[0],b=o[1],d=Object(n.useState)(!1),A=Object(m.a)(d,2),g=A[0],p=A[1],j={opacity:g?1:0,backfaceVisibility:"hidden",zIndex:100,transform:l?"translateY(0)":"translateY(-25px)",transition:"all ".concat(a,"ms")};return Object(n.useEffect)((function(){if(l){var e=window.setTimeout((function(){p(!1),b(!1)}),r);return function(){window.clearTimeout(e)}}}),[l,r]),Object(n.useEffect)((function(){c&&(p(!0),b(!0))}),[c]),Object(u.jsx)("span",{style:j,children:c})},B=function(e){var t=e.onRouteChange,a=e.initializeActiveUser,s=e.serverEndpoint,r=Object(n.useState)({email:"",plainTextPassword:""}),c=Object(m.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({messages:[],shouldDisplay:!0}),b=Object(m.a)(l,2),d=b[0],A=b[1];Object(n.useEffect)((function(){var e=document.querySelector("#error-messages-container"),t=50*(e.children.length-1);e.style.setProperty("--offset","".concat(t,"px"));var a=window.setInterval((function(){var e=d.messages;e.pop(),A(Object(N.a)(Object(N.a)({},d),{},{messages:Object(y.a)(e),shouldDisplay:!1}))}),4500);return function(){window.clearInterval(a)}}),[d]),Object(n.useEffect)((function(){var e=document.querySelector("#submit-sign-in"),t=!0;for(var a in i)if(!a.length||!j(a,i[a])){t=!1;break}t?(e.style.setProperty("background-color","var(--green)"),e.style.setProperty("border-color","transparent")):(e.style.setProperty("background-color","transparent"),e.style.setProperty("border-color","black"))}),[i]);var g=function(){var e=Object(w.a)(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.email&&i.plainTextPassword){e.next=4;break}return h("Please fill out all fields."),e.abrupt("return");case 4:return e.next=6,fetch("".concat(s,"/signin"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 6:return n=e.sent,e.next=9,n.json();case 9:if((r=e.sent).error){e.next=14;break}return a(r),t("home"),e.abrupt("return");case 14:return h(r.message),e.abrupt("return");case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),p=function(e){A(Object(N.a)(Object(N.a)({},d),{},{messages:[]}));var t=e.target.name,a=e.target.value,n=Object(x.a)({},t,a);j(t,a)?e.target.style.setProperty("border-color","var(--green)"):e.target.style.setProperty("border-color","var(--light-gray)"),o(Object(N.a)(Object(N.a)({},i),n))},j=function(e,t){if("email"===e)return new RegExp(/^.+@.+\..+/).test(t);if("plainTextPassword"===e)return new RegExp(/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/).test(t);throw new Error("Unrecognized field on signup form: ".concat(e))},h=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0===d.messages.find((function(t){return t===e}))?A(Object(N.a)(Object(N.a)({},d),{},{messages:[e].concat(Object(y.a)(d.messages)),shouldDisplay:t})):A(Object(N.a)(Object(N.a)({},d),{},{messages:Object(y.a)(d.messages),shouldDisplay:t}))};return Object(u.jsx)("main",{className:"relative pa4 black-80 br2 ba dark-gay b--black-10 mv4 w-100 w-50-m w-30-l mw5 mw6-ns center bg-white",children:Object(u.jsxs)("div",{className:"measure center",children:[Object(u.jsxs)("fieldset",{id:"sign_in",className:"ba b--transparent ph0 mh0",children:[Object(u.jsx)("legend",{className:"f2 fw6 ph0 mh0 center",children:"Sign In"}),Object(u.jsxs)("div",{className:"mt3",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"email-address",children:"Email"}),Object(u.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"email",name:"email",id:"email",onChange:p})]}),Object(u.jsxs)("div",{className:"mt2",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{className:"b pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"password",name:"plainTextPassword",id:"plainTextPassword",onChange:p})]})]}),Object(u.jsxs)("div",{className:"lh-copy mt3 tc",children:[Object(u.jsx)("div",{id:"error-messages-container",className:"absolute left-0 right-0 w-100 flex flex-column tooltip",children:d.messages.length&&d.shouldDisplay?d.messages.map((function(e,t){return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"relative left-0 right-0 w-100 flex justify-center content-center pv2 ph1 bg-white ba b--black-10 br-pill",children:Object(u.jsx)("span",{className:"b blue tl",children:e})})},t)})):null}),Object(u.jsx)("input",{className:"b ph4 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",id:"submit-sign-in",type:"submit",value:"Sign in",onClick:g})]}),Object(u.jsx)("div",{className:"lh-copy mt3 tc",children:Object(u.jsx)("p",{className:"f6 link dim black di pointer",onClick:function(){return t("signup")},children:"Sign up"})})]})})},E=function(e){var t=e.onRouteChange,a=e.initializeActiveUser,s=e.serverEndpoint,r=Object(n.useState)({firstName:"",lastName:"",username:"",email:"",plainTextPassword:""}),c=Object(m.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)({messages:[],shouldDisplay:!0}),b=Object(m.a)(l,2),d=b[0],A=b[1],g=Object(n.useState)(!1),p=Object(m.a)(g,2),j=p[0],h=p[1];Object(n.useEffect)((function(){var e=document.querySelector("#error-messages-container"),t=50*(e.children.length-1);e.style.setProperty("--offset","".concat(t,"px"));var a=window.setInterval((function(){var e=d.messages;e.pop(),A(Object(N.a)(Object(N.a)({},d),{},{messages:Object(y.a)(e),shouldDisplay:!1}))}),4500);return function(){window.clearInterval(a)}}),[d]),Object(n.useEffect)((function(){var e=document.querySelector("#submit-sign-up"),t=!0;for(var a in i)if(!a.length||!k(a,i[a])){t=!1;break}t?(e.style.setProperty("background-color","var(--green)"),e.style.setProperty("border-color","transparent")):(e.style.setProperty("background-color","transparent"),e.style.setProperty("border-color","black"))}),[i]);var f=function(){var e=Object(w.a)(v.a.mark((function e(){var n,r,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=!0,e.t0=v.a.keys(i);case 3:if((e.t1=e.t0()).done){e.next=11;break}if(!(r=e.t1.value).length||!k(r,i[r])){e.next=7;break}return e.abrupt("continue",3);case 7:return n=!1,e.abrupt("break",11);case 11:if(!n){e.next=28;break}return e.next=14,fetch("".concat(s,"/signup"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 14:return c=e.sent,e.next=17,c.json();case 17:if((o=e.sent).error){e.next=24;break}return a(o),t("home"),e.abrupt("return");case 24:return O(o.error),e.abrupt("return");case 26:e.next=33;break;case 28:if(i.email&&i.username&&i.plainTextPassword){e.next=32;break}return e.abrupt("return",O("Please fill out all required fields."));case 32:return e.abrupt("return",O("Please provide valid input."));case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(0),console.log(e.t2);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0===d.messages.find((function(t){return t===e}))?A(Object(N.a)(Object(N.a)({},d),{},{messages:[e].concat(Object(y.a)(d.messages)),shouldDisplay:t})):A(Object(N.a)(Object(N.a)({},d),{},{messages:Object(y.a)(d.messages),shouldDisplay:t}))},B=function(e){A(Object(N.a)(Object(N.a)({},d),{},{messages:[]}));var t=e.target.name,a=e.target.value,n=Object(x.a)({},t,a);k(t,a)?e.target.style.setProperty("border-color","var(--green)"):e.target.style.setProperty("border-color","var(--light-gray)"),o(Object(N.a)(Object(N.a)({},i),n))},E=function(e){"plainTextPassword"!==e.target.name?h(!1):h(!0)},k=function(e,t){if("username"===e)return t.length>=5&&t.length<=100;if("firstName"===e||"lastName"===e)return new RegExp(/^[a-zA-Z]+$/).test(t);if("email"===e)return new RegExp(/^.+@.+\..+/).test(t);if("plainTextPassword"===e)return new RegExp(/^((?=\S*?[A-Z])(?=\S*?[a-z])(?=\S*?[0-9]).{6,})\S$/).test(t);throw new Error("Unrecognized field on signup form: ".concat(e))};return Object(u.jsx)("main",{className:"relative pa4 black-80 br2 ba dark-gay b--black-10 mv4 w-100 w-50-m w-30-l mw5 mw6-ns center bg-white",children:Object(u.jsxs)("div",{className:"measure center",children:[Object(u.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(u.jsx)("legend",{className:"f2 fw6 ph0 mh0 center",children:"Sign Up"}),Object(u.jsxs)("div",{className:"mt3",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"firstName",children:"First Name"}),Object(u.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"text",name:"firstName",id:"firstName",onChange:B,onFocus:E})]}),Object(u.jsxs)("div",{className:"mt2",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"lastName",children:"Last Name"}),Object(u.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"text",name:"lastName",id:"lastName",onChange:B,onFocus:E})]}),Object(u.jsxs)("div",{className:"mt2",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"username",children:"Username"}),Object(u.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"text",name:"username",id:"username",onChange:B,onFocus:E})]}),Object(u.jsxs)("div",{className:"mt2",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"email-address",children:"Email"}),Object(u.jsx)("input",{className:"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"email",name:"email",id:"email","aria-required":"true",required:"required",onChange:B,onFocus:E})]}),Object(u.jsxs)("div",{className:"mt2 mb3",children:[Object(u.jsx)("label",{className:"db fw6 lh-copy f6 mb1 tl",htmlFor:"plainTextPassword",children:"Password"}),Object(u.jsx)("input",{className:"b pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100",type:"password",name:"plainTextPassword",id:"plainTextPassword","aria-required":"true",required:"required",onChange:B,onFocus:E}),j&&!k("plainTextPassword",i.plainTextPassword)?Object(u.jsx)("p",{className:"tl lh-copy f6 gray mt1",children:"6 character minimum. Must contain at least 1 number, 1 lowercase letter"}):null]})]}),Object(u.jsxs)("div",{className:"lh-copy mt2 tc",children:[Object(u.jsx)("div",{id:"error-messages-container",className:"absolute left-0 right-0 w-100 flex flex-column",children:d.messages.length&&d.shouldDisplay?d.messages.map((function(e,t){return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"relative left-0 right-0 w-100 flex justify-center content-center mv1 pv2 ph1 bg-white ba b--black-10 br-pill",children:Object(u.jsx)("span",{className:"b blue tl",children:e})})},t)})):null}),Object(u.jsx)("input",{className:"b ph5 pv2 input-reset ba b--black bg-transparent grow pointer f6",id:"submit-sign-up",type:"submit",value:"Sign Up",onClick:f})]}),Object(u.jsx)("div",{className:"lh-copy mt3 tc",children:Object(u.jsx)("p",{className:"f6 link dim black pointer di",onClick:function(){return t("signin")},children:"Back to Sign In"})})]})})},k=(a(120),a(106)),I=a.n(k);const F="UPDATE_IMAGE_URL",P="UPDATE_BOUNDING_BOXES",Q="REQUEST_IMAGE_DATA_PENDING",L="REQUEST_IMAGE_DATA_SUCCESS",D="REQUEST_IMAGE_DATA_FAILED",H={particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}},Y="http://localhost:3000";var S=Object(i.b)((e=>({imageUrl:e.image.imageUrl,isPending:e.image.isPending,imageData:e.image.imageData,error:e.image.error})),(e=>({onInputChange:t=>{return e((a=t.target.value,{type:F,payload:a}));var a},onFetchImageData:()=>e((async(e,t)=>{e({type:Q});const a=t().image.imageUrl;try{const t=await fetch("http://localhost:3000/image",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a})}),n=await t.json();return e({type:L,payload:n})}catch(n){return e({type:D,payload:n})}}))})))((function(e){const{onInputChange:t,onFetchImageData:a,imageUrl:s,imageData:r}=e,[c,i]=Object(n.useState)({}),[o,l]=Object(n.useState)({}),[m,A]=Object(n.useState)("signin"),[g,p]=Object(n.useState)(!1);Object(n.useEffect)((()=>{m.match(/^(?:sign)(?:out|in|up)/gm)?(p(!1),i({}),l("")):p(!0)}),[m]),Object(n.useEffect)((()=>{r&&(l(x()),v())}),[r]);const x=()=>{console.log("calculateFaceLocation called"),console.log(r);let e=[];r[2].data.regions.length&&r[2].data.regions.forEach((t=>{e.push(t.region_info.bounding_box)}));document.getElementById("input-image");return e.forEach((e=>{e.left_col=100*e.left_col+"%",e.top_row=100*e.top_row+"%",e.right_col=100*(1-e.right_col)+"%",e.bottom_row=100*(1-e.bottom_row)+"%"})),e},O=e=>{A(e)},v=async()=>{try{const e=await fetch("http://localhost:3000/update-entries",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userUUID:c.uuid,entries:c.entries})}),t=await e.json();i({...c,entries:t.entries})}catch(e){console.log(e)}},w=e=>{console.log(e),i(e)};return Object(u.jsxs)("div",{className:"App flex flex-column pt1",children:[Object(u.jsx)(I.a,{params:H,className:"particles"}),Object(u.jsx)(b,{onRouteChange:O,isSignedIn:g}),Object(u.jsx)(j,{}),"signin"===m?Object(u.jsx)(B,{onRouteChange:O,initializeActiveUser:w,serverEndpoint:Y}):"signup"===m?Object(u.jsx)(E,{onRouteChange:O,initializeActiveUser:w,serverEndpoint:Y}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{user:c}),Object(u.jsx)(h,{onInputChange:t,onPictureSubmit:()=>{s&&(console.log("onButtonSubmit called"),(async()=>{try{await a()}catch(e){console.log(e)}})())}}),Object(u.jsx)(d,{image:s,boundingBoxes:o}),Object(u.jsxs)("div",{className:"tc",children:["Icons made by ",Object(u.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," from ",Object(u.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})]})})),T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,458)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};a(456);const U={imageUrl:"",isPending:!1,imageData:null,boundingBoxes:[],error:null};let z;const R=Object(o.b)({image:(e=U,t={})=>{switch(t.type){case F:return{...e,imageUrl:t.payload};case Q:return{...e,isPending:!0};case D:case L:return{...e,isPending:!1,imageData:t.payload};case P:return{...e,boundingBoxes:t.payload};default:return e}}});z=Object(o.c)(R,Object(o.a)(l.a)),c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(i.a,{store:z,children:Object(u.jsx)(S,{})})}),document.getElementById("root")),T()}},[[457,1,2]]]);
//# sourceMappingURL=main.75e3ff76.chunk.js.map