{"version":3,"sources":["components/Navigation/Navigation.js","components/FaceRecognition/FaceRecognition.js","components/Logo/Logo.js","components/Logo/face-scan.png","components/ImageLinkForm/ImageLinkForm.js","components/Rank/Rank.js","components/CustomEffects/PopIn.js","components/SignIn/SignIn.js","components/SignUp/SignUp.js","actions.js","App.js","reportWebVitals.js","reducers.js","index.js"],"names":["Navigation","onRouteChange","isSignedIn","className","onClick","FaceRecognition","image","boundingBoxes","console","log","src","id","width","height","alt","length","map","boundingBox","i","style","top","top_row","right","right_col","bottom","bottom_row","left","left_col","calc","x","y","window","innerHeight","innerWidth","trans","s","Logo","useSpring","xys","config","mass","tension","friction","props","set","div","onMouseMove","clientX","clientY","onMouseLeave","transform","to","ImageLinkForm","onInputChange","onPictureSubmit","type","name","onChange","Rank","user","first_name","last_name","entries","PopInBelow","timing","timeout","children","useState","isActive","setIsActive","isVisible","setIsVisible","opacity","backfaceVisibility","zIndex","transition","useEffect","timeoutId","setTimeout","clearTimeout","SignIn","initializeActiveUser","serverEndpoint","email","plainTextPassword","signInForm","setSignInForm","messages","shouldDisplay","errorMessages","setErrorMessages","errorMessagesContainer","document","querySelector","offset","setProperty","setInterval","errorMessagesClone","pop","clearInterval","signInButton","allFieldsAreValid","field","canValidate","onSubmitSignIn","a","addNewErrorMessage","fetch","method","headers","body","JSON","stringify","response","json","error","message","event","target","value","signInFormFieldValue","RegExp","test","Error","newMessage","display","undefined","find","msg","htmlFor","SignUp","firstName","lastName","username","signUpForm","setSignUpForm","passwordIsFocused","setPasswordIsFocused","signUpButton","onSubmitSignUp","signUpFormFieldValue","onInputFocus","onFocus","aria-required","required","actionTypes","particlesOptions","particles","number","density","enable","size","random","anim","speed","size_min","line_linked","move","direction","out_mode","interactivity","events","onhover","mode","onclick","modes","bubble","distance","duration","repulse","process","connect","state","imageUrl","isPending","imageData","dispatch","payload","onFetchImageData","async","getState","url","setUser","setBoundingBoxes","route","setRoute","setIsSignedIn","match","calculateFaceLocation","updateUserEntires","data","regions","forEach","region","push","region_info","bounding_box","getElementById","box","result","userUUID","uuid","entriesJson","params","postImageUrlToClarifai","href","title","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","store","rootReducer","combineReducers","action","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0ab9a474.chunk.js","sourcesContent":["\r\nconst Navigation = ({ onRouteChange, isSignedIn }) => {\r\n  return (\r\n    isSignedIn ?\r\n      <nav className=\"absolute right-1\">\r\n        <p onClick={() => onRouteChange('signin')} className=\"f3 link dim black underline pa3 pointer\">Sign Out</p>\r\n      </nav>\r\n    :\r\n      <nav className=\"absolute right-1\">\r\n        {/* <p onClick={() => onRouteChange('signup')} className=\"f3 link dim black underline pa3 pointer\">Sign Up</p> */}\r\n        {/* <p onClick={() => onRouteChange('signin')} className=\"f3 link dim black underline pa3 pointer\">Sign In</p> */}\r\n      </nav>\r\n  )\r\n}\r\n\r\nexport default Navigation;\r\n","import './FaceRecognition.scss';\r\n\r\n// TEST IMAGE SINGLE\r\n//* https://api.time.com/wp-content/uploads/2017/12/terry-crews-person-of-year-2017-time-magazine-2.jpg\r\n// TEST IMAGE GROUP\r\n//* https://imgix.bustle.com/uploads/image/2018/2/2/d8bc51e7-2d1e-446a-9577-9c0de318cd1d-stocksy_txp1c870653lup100_small_1760976.jpg\r\nconst FaceRecognition = ({ image, boundingBoxes }) => {\r\n  console.log(image, boundingBoxes);\r\n  return (\r\n    <div className=\"relative flex justify-center w-75 center\">\r\n          <div className=\"absolute mt2 mw-100\">\r\n              <img\r\n                src={image}\r\n                id=\"input-image\"\r\n                width=\"auto\" height=\"auto\"\r\n                alt={`${image !== '' ? 'user submitted group of people' : ''}`}\r\n              />\r\n              {\r\n                boundingBoxes.length && image ?\r\n                  boundingBoxes.map((boundingBox, i) => {\r\n                    return (\r\n                      <div\r\n                        key={i}\r\n                        className=\"bounding-box absolute flex flex-wrap justify-center pointer\"\r\n                        style={{top: boundingBox.top_row, right: boundingBox.right_col, bottom: boundingBox.bottom_row, left: boundingBox.left_col}}\r\n                      ></div>\r\n                    )\r\n                  }) : null\r\n              }\r\n          </div>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default FaceRecognition;\r\n","import faceScan from './face-scan.png';\r\nimport { useSpring, animated } from 'react-spring';\r\n\r\nconst calc = (x, y) => {\r\n  // console.log(`x: ${x}, y: ${y}`);\r\n  // console.log(-(y - window.innerHeight / 2) / 20, (x - window.innerWidth / 2) / 20);\r\n  return [-((y*9) - window.innerHeight / 2) / 20, ((x*4) - window.innerWidth / 2) / 20, 1.05]\r\n};\r\nconst trans = (x, y, s) => `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`;\r\n\r\nconst Logo = () => {\r\n  const [props, set] = useSpring(() => ({ xys: [0, 0, 1], config: { mass: 5, tension: 350, friction: 40 } }))\r\n  return (\r\n    <animated.div\r\n      className=\"ma4 mt0 h4 w4 pa3 top-0\"\r\n      // onMouseMove={({ clientX: x, clientY: y }) => set({ xys: calc(x,y) })}\r\n      onMouseMove={({ clientX: x, clientY: y }) => set({ xys: calc(x,y) })}\r\n      onMouseLeave={() => set({ xys: [0, 0, 1] })}\r\n      style={{ transform: props.xys.to(trans) }}\r\n    >\r\n      <img src={faceScan} alt=\"face\" />\r\n    </animated.div>\r\n  )\r\n}\r\n\r\nexport default Logo;","export default \"data:image/png;base64,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\"","\r\n\r\nconst ImageLinkForm = ({ onInputChange, onPictureSubmit }) => {\r\n  return (\r\n    <div>\r\n      <p className=\"f3 mb0 white tc\">I can see your face.</p>\r\n      <div className=\"flex justify-center\">\r\n        <div className=\"w-50-l pa4 br3 flex flex-row-ns flex-column items-center\">\r\n          <input className=\"f4 pa2 w-70 center\" type=\"text\" name=\"\" id=\"\" onChange={onInputChange} />\r\n          <button\r\n            className=\"w-70 w-30-ns f4 ph3 pv2 dib bg-white black bn dim\"\r\n            onClick={onPictureSubmit}\r\n          > Detect </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageLinkForm;\r\n","const Rank = ({ user }) => {\r\n  return (\r\n    <div className=\"white tc\">\r\n      <div className=\"f3\">\r\n        { `${user.first_name} ${user?.last_name}` || 'Hey there' }, your current rank is\r\n      </div>\r\n      <div className=\"f1\">\r\n        { user.entries || 0 }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rank;","import { useState, useEffect } from 'react';\r\n\r\nexport const PopInBelow = ({ timing = 250, timeout = 2500, children }) => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const style = {\r\n    opacity: isVisible ? 1 : 0,\r\n    // position: 'absolute',\r\n    // left: 0,\r\n    // right: 0,\r\n    // bottom: 0,\r\n    backfaceVisibility: 'hidden',\r\n    zIndex: 100,\r\n    transform: isActive\r\n      ? `translateY(0)`\r\n      : `translateY(-25px)`,\r\n    transition: `all ${timing}ms`\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n\r\n    const timeoutId = window.setTimeout(() => {\r\n      setIsVisible(false);\r\n      setIsActive(false);\r\n    }, timeout);\r\n\r\n    return () => {\r\n      window.clearTimeout(timeoutId);\r\n    };\r\n    \r\n  }, [isActive, timeout]);\r\n\r\n  useEffect(() => {\r\n    if (!children) {\r\n      return;\r\n    }\r\n\r\n    setIsVisible(true);\r\n    setIsActive(true);\r\n    \r\n  }, [children]);\r\n\r\n  return (\r\n    <span style={style}>\r\n      {children}\r\n    </span>\r\n  )\r\n}","import { useState, useEffect } from 'react';\r\nimport { PopInBelow } from '../CustomEffects/PopIn';\r\n\r\nconst SignIn = ({ onRouteChange, initializeActiveUser, serverEndpoint }) => {\r\n  const [signInForm, setSignInForm] = useState({\r\n    email: '',\r\n    plainTextPassword: ''\r\n  });\r\n  const [errorMessages, setErrorMessages] = useState({\r\n    messages: [],\r\n    shouldDisplay: true\r\n  });\r\n\r\n  useEffect(() => {\r\n    const errorMessagesContainer = document.querySelector('#error-messages-container');\r\n    const offset = 50 * (errorMessagesContainer.children.length - 1);\r\n\r\n    errorMessagesContainer.style.setProperty('--offset', `${offset}px`);\r\n\r\n    const timeoutId = window.setInterval(() => {\r\n      const errorMessagesClone = errorMessages.messages;\r\n      errorMessagesClone.pop();\r\n      setErrorMessages({...errorMessages, messages: [...errorMessagesClone], shouldDisplay: false});\r\n    }, 4500);\r\n\r\n    return () => {\r\n      window.clearInterval(timeoutId);\r\n    };\r\n  }, [errorMessages]);\r\n\r\n  useEffect(() => {\r\n    const signInButton = document.querySelector('#submit-sign-in');\r\n    let allFieldsAreValid = true;\r\n    \r\n    for (const field in signInForm) {\r\n      if (field.length && canValidate(field, signInForm[field])) {\r\n        continue;\r\n      }\r\n      allFieldsAreValid = false;\r\n      break;\r\n    }\r\n\r\n    if (allFieldsAreValid) {\r\n      signInButton.style.setProperty('background-color', 'var(--green)');\r\n      signInButton.style.setProperty('border-color', 'transparent');\r\n    } else {\r\n      signInButton.style.setProperty('background-color', 'transparent');\r\n      signInButton.style.setProperty('border-color', 'black');\r\n    }\r\n  }, [signInForm]);\r\n\r\n  const onSubmitSignIn = async () => {\r\n    try {\r\n      if (!signInForm.email || !signInForm.plainTextPassword) {\r\n        addNewErrorMessage('Please fill out all fields.');\r\n        return;\r\n      }\r\n  \r\n      const response = await fetch(`${serverEndpoint}/signin`, {\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(signInForm)\r\n      })\r\n      const user = await response.json();\r\n  \r\n          if(!user.error) {\r\n            initializeActiveUser(user);\r\n            onRouteChange('home');\r\n            return;\r\n          }\r\n          addNewErrorMessage(user.message);\r\n          return;\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const onInputChange = (event) => {\r\n    setErrorMessages({...errorMessages, messages: []});\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    const signInFormFieldValue = { [name]: value };\r\n\r\n    if (canValidate(name, value)) {\r\n      event.target.style.setProperty('border-color', 'var(--green)');\r\n    } else {\r\n      event.target.style.setProperty('border-color', 'var(--light-gray)');\r\n    }\r\n    \r\n    // setSignInForm(Object.assign(signInForm, signInFormFieldValue));\r\n    setSignInForm({...signInForm, ...signInFormFieldValue});\r\n  }\r\n\r\n  const canValidate = (field, value) => {\r\n    if (field === 'email') {\r\n      const regex = new RegExp(/^.+@.+\\..+/);\r\n      return regex.test(value);\r\n    } else if (field === 'plainTextPassword') {\r\n      const regex = new RegExp(/^((?=\\S*?[A-Z])(?=\\S*?[a-z])(?=\\S*?[0-9]).{6,})\\S$/);\r\n      return regex.test(value);\r\n    }\r\n    throw new Error(`Unrecognized field on signup form: ${field}`)\r\n  }\r\n\r\n  const addNewErrorMessage = (newMessage, display = true) => {\r\n    if (errorMessages.messages.find(msg => msg === newMessage) === undefined) {\r\n      return setErrorMessages({...errorMessages, messages: [newMessage, ...errorMessages.messages], shouldDisplay: display});\r\n    }\r\n    return setErrorMessages({...errorMessages, messages: [...errorMessages.messages], shouldDisplay: display});\r\n  }\r\n\r\n  return (\r\n    <main className=\"relative pa4 black-80 br2 ba dark-gay b--black-10 mv4 w-100 w-50-m w-30-l mw5 mw6-ns center bg-white\">\r\n      <div className=\"measure center\">\r\n        <fieldset id=\"sign_in\" className=\"ba b--transparent ph0 mh0\">\r\n          <legend className=\"f2 fw6 ph0 mh0 center\">Sign In</legend>\r\n          <div className=\"mt3\">\r\n            <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"email-address\">Email</label>\r\n            <input\r\n              className=\"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              onChange={onInputChange}\r\n            />\r\n          </div>\r\n          <div className=\"mt2\">\r\n            <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"password\">Password</label>\r\n            <input\r\n              className=\"b pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n              type=\"password\"\r\n              name=\"plainTextPassword\"\r\n              id=\"plainTextPassword\"\r\n              onChange={onInputChange}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n        <div className=\"lh-copy mt3 tc\">\r\n          <div id=\"error-messages-container\" className=\"absolute left-0 right-0 w-100 flex flex-column tooltip\">\r\n              {\r\n                // TODO: push existing messages down as new ones pop in from the top\r\n                errorMessages.messages.length && errorMessages.shouldDisplay\r\n                ?\r\n                  errorMessages.messages.map((msg, i) => {\r\n                    return (\r\n                      <PopInBelow key={i}>\r\n                        <div\r\n                          className=\"relative left-0 right-0 w-100 flex justify-center content-center pv2 ph1 bg-white ba b--black-10 br-pill\"\r\n                        >\r\n                          <span className=\"b blue tl\">{msg}</span>\r\n                        </div>\r\n                      </PopInBelow>\r\n                    )\r\n                  })\r\n                : null\r\n              }\r\n            </div>\r\n            <input\r\n              className=\"b ph4 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\r\n              id=\"submit-sign-in\"\r\n              type=\"submit\"\r\n              value=\"Sign in\"\r\n              onClick={onSubmitSignIn}\r\n            />\r\n          </div>\r\n          <div className=\"lh-copy mt3 tc\">\r\n            <p\r\n              className=\"f6 link dim black di pointer\"\r\n              onClick={() => onRouteChange('signup')}\r\n            >Sign up</p>\r\n          </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import { useState, useEffect } from 'react';\r\nimport { PopInBelow } from '../CustomEffects/PopIn';\r\n\r\nconst SignUp = ({ onRouteChange, initializeActiveUser, serverEndpoint }) => {\r\n  const [signUpForm, setSignUpForm] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    username: '',\r\n    email: '',\r\n    plainTextPassword: ''\r\n  });\r\n  const [errorMessages, setErrorMessages] = useState({\r\n    messages: [],\r\n    shouldDisplay: true\r\n  });\r\n  const [passwordIsFocused, setPasswordIsFocused] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const errorMessagesContainer = document.querySelector('#error-messages-container');\r\n    const offset = 50 * (errorMessagesContainer.children.length - 1);\r\n\r\n    errorMessagesContainer.style.setProperty('--offset', `${offset}px`);\r\n\r\n    const timeoutId = window.setInterval(() => {\r\n      const errorMessagesClone = errorMessages.messages;\r\n      errorMessagesClone.pop();\r\n      setErrorMessages({...errorMessages, messages: [...errorMessagesClone], shouldDisplay: false});\r\n    }, 4500);\r\n\r\n    return () => {\r\n      window.clearInterval(timeoutId);\r\n    };\r\n  }, [errorMessages]);\r\n\r\n  useEffect(() => {\r\n    const signUpButton = document.querySelector('#submit-sign-up');\r\n    let allFieldsAreValid = true;\r\n    \r\n    for (const field in signUpForm) {\r\n      if (field.length && canValidate(field, signUpForm[field])) {\r\n        continue;\r\n      }\r\n      allFieldsAreValid = false;\r\n      break;\r\n    }\r\n\r\n    if (allFieldsAreValid) {\r\n      signUpButton.style.setProperty('background-color', 'var(--green)');\r\n      signUpButton.style.setProperty('border-color', 'transparent');\r\n    } else {\r\n      signUpButton.style.setProperty('background-color', 'transparent');\r\n      signUpButton.style.setProperty('border-color', 'black');\r\n    }\r\n  }, [signUpForm]);\r\n\r\n  const onSubmitSignUp = async () => {\r\n    try {\r\n\r\n      let allFieldsAreValid = true;\r\n  \r\n      for (const field in signUpForm) {\r\n        if (field.length && canValidate(field, signUpForm[field])) {\r\n          continue;\r\n        }\r\n        allFieldsAreValid = false;\r\n        break;\r\n      }\r\n  \r\n      if(allFieldsAreValid) {\r\n        const response = await fetch(`${serverEndpoint}/signup`, {\r\n          method: 'post',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(signUpForm)\r\n        })\r\n        const user = await response.json();\r\n            if(!user.error) {\r\n              initializeActiveUser(user);\r\n              onRouteChange('home');\r\n              return;\r\n            } else {\r\n              addNewErrorMessage(user.error);\r\n              return;\r\n            }\r\n      } else if (!signUpForm.email || !signUpForm.username || !signUpForm.plainTextPassword) {\r\n        return addNewErrorMessage('Please fill out all required fields.');\r\n      } else {\r\n        return addNewErrorMessage('Please provide valid input.');\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const addNewErrorMessage = (newMessage, display = true) => {\r\n    if (errorMessages.messages.find(msg => msg === newMessage) === undefined) {\r\n      return setErrorMessages({...errorMessages, messages: [newMessage, ...errorMessages.messages], shouldDisplay: display});\r\n    }\r\n    return setErrorMessages({...errorMessages, messages: [...errorMessages.messages], shouldDisplay: display});\r\n  }\r\n\r\n  const onInputChange = (event) => {\r\n    setErrorMessages({...errorMessages, messages: []});\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    const signUpFormFieldValue = { [name]: value };\r\n\r\n    if (canValidate(name, value)) {\r\n      event.target.style.setProperty('border-color', 'var(--green)');\r\n    } else {\r\n      event.target.style.setProperty('border-color', 'var(--light-gray)');\r\n    }\r\n    \r\n    // setSignUpForm(Object.assign(signUpForm, signUpFormFieldValue));\r\n    setSignUpForm({...signUpForm, ...signUpFormFieldValue});\r\n  }\r\n\r\n  const onInputFocus = (event) => {\r\n    if (event.target.name === 'plainTextPassword') {\r\n      setPasswordIsFocused(true);\r\n      return;\r\n    }\r\n    setPasswordIsFocused(false);\r\n\r\n  }\r\n\r\n  const canValidate = (field, value) => {\r\n    if (field === 'username') {\r\n      /*\r\n        TODO: make regex for a username\r\n          * allow alphanumeric and _ symbol only\r\n          * between\r\n            ? 5 and 18 char long ?\r\n          * can't start with _\r\n          * needs at least 3 letters\r\n      */\r\n      return value.length >= 5 && value.length <= 100;\r\n    } else if (field === 'firstName' || field === 'lastName') {\r\n      const regex = new RegExp(/^[a-zA-Z]+$/);\r\n      return regex.test(value);\r\n    } else if (field === 'email') {\r\n      const regex = new RegExp(/^.+@.+\\..+/);\r\n      return regex.test(value);\r\n    } else if (field === 'plainTextPassword') {\r\n      const regex = new RegExp(/^((?=\\S*?[A-Z])(?=\\S*?[a-z])(?=\\S*?[0-9]).{6,})\\S$/);\r\n      return regex.test(value);\r\n    }\r\n    throw new Error(`Unrecognized field on signup form: ${field}`)\r\n  }\r\n\r\n  return (\r\n    <main className=\"relative pa4 black-80 br2 ba dark-gay b--black-10 mv4 w-100 w-50-m w-30-l mw5 mw6-ns center bg-white\">\r\n      <div className=\"measure center\">\r\n        <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\r\n          <legend className=\"f2 fw6 ph0 mh0 center\">Sign Up</legend>\r\n            <div className=\"mt3\">\r\n              <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"firstName\">First Name</label>\r\n              <input\r\n                className=\"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                id=\"firstName\"\r\n                onChange={onInputChange}\r\n                onFocus={onInputFocus}\r\n              />\r\n            </div>\r\n          <div className=\"mt2\">\r\n              <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"lastName\">Last Name</label>\r\n              <input\r\n                className=\"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                id=\"lastName\"\r\n                onChange={onInputChange}\r\n                onFocus={onInputFocus}\r\n              />\r\n            </div>\r\n          <div className=\"mt2\">\r\n            <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"username\">Username</label>\r\n            <input\r\n              className=\"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n              type=\"text\"\r\n              name=\"username\"\r\n              id=\"username\"\r\n              onChange={onInputChange}\r\n              onFocus={onInputFocus}\r\n            />\r\n          </div>\r\n          <div className=\"mt2\">\r\n            <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"email-address\">Email</label>\r\n            <input\r\n              className=\"pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              aria-required=\"true\"\r\n              required=\"required\"\r\n              onChange={onInputChange}\r\n              onFocus={onInputFocus}\r\n            />\r\n          </div>\r\n          <div className=\"mt2 mb3\">\r\n            <label className=\"db fw6 lh-copy f6 mb1 tl\" htmlFor=\"plainTextPassword\">Password</label>\r\n            <input\r\n              className=\"b pa2 input-reset ba bw2 bg-transparent hover-bg-light-gray w-100\"\r\n              type=\"password\"\r\n              name=\"plainTextPassword\"\r\n              id=\"plainTextPassword\"\r\n              aria-required=\"true\"\r\n              required=\"required\"\r\n              onChange={onInputChange}\r\n              onFocus={onInputFocus}\r\n            />\r\n            {\r\n              passwordIsFocused && !canValidate('plainTextPassword', signUpForm.plainTextPassword)\r\n              ?\r\n                <p className=\"tl lh-copy f6 gray mt1\">6 character minimum. Must contain at least 1 number, 1 lowercase letter</p>\r\n              : null\r\n            }\r\n          </div>\r\n        </fieldset>\r\n        <div className=\"lh-copy mt2 tc\">\r\n          <div id=\"error-messages-container\" className=\"absolute left-0 right-0 w-100 flex flex-column\">\r\n            {\r\n              errorMessages.messages.length && errorMessages.shouldDisplay\r\n              ?\r\n                errorMessages.messages.map((msg, i) => {\r\n                  return (\r\n                    <PopInBelow key={i}>\r\n                      <div\r\n                        className=\"relative left-0 right-0 w-100 flex justify-center content-center mv1 pv2 ph1 bg-white ba b--black-10 br-pill\"\r\n                      >\r\n                        <span className=\"b blue tl\">{msg}</span>\r\n                      </div>\r\n                    </PopInBelow>\r\n                  )\r\n                })\r\n              : null\r\n            }\r\n          </div>\r\n          <input\r\n            className=\"b ph5 pv2 input-reset ba b--black bg-transparent grow pointer f6\"\r\n            id=\"submit-sign-up\"\r\n            type=\"submit\"\r\n            value=\"Sign Up\"\r\n            onClick={onSubmitSignUp}\r\n          />\r\n        </div>\r\n        <div className=\"lh-copy mt3 tc\">\r\n          <p\r\n            className=\"f6 link dim black pointer di\"\r\n            onClick={() => onRouteChange('signin')}\r\n          >Back to Sign In</p>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default SignUp;\r\n","const serverEndpoint = process.env.REACT_APP_SERVER_ENDPOINT;\r\nexport const actionTypes = {\r\n   UPDATE_IMAGE_URL: 'UPDATE_IMAGE_URL',\r\n   UPDATE_BOUNDING_BOXES: 'UPDATE_BOUNDING_BOXES',\r\n   REQUEST_IMAGE_DATA_PENDING: 'REQUEST_IMAGE_DATA_PENDING',\r\n   REQUEST_IMAGE_DATA_SUCCESS: 'REQUEST_IMAGE_DATA_SUCCESS',\r\n   REQUEST_IMAGE_DATA_FAILED: 'REQUEST_IMAGE_DATA_FAILED',\r\n};\r\n\r\nexport const setImageUrl = (imageUrl) => {\r\n   return {\r\n      type: actionTypes.UPDATE_IMAGE_URL,\r\n      payload: imageUrl\r\n   }\r\n}\r\n\r\nexport const fetchImageData = () => async (dispatch, getState) => {\r\n   dispatch({ type: actionTypes.REQUEST_IMAGE_DATA_PENDING });\r\n   const imageUrl = getState().image.imageUrl;\r\n   try {\r\n      const response = await fetch(`${serverEndpoint}/image`,\r\n      {\r\n      method: 'post',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({ url: imageUrl })\r\n      }\r\n      );\r\n      const imageData = await response.json();\r\n      return dispatch({\r\n         type: actionTypes.REQUEST_IMAGE_DATA_SUCCESS,\r\n         payload: imageData\r\n      });\r\n   }\r\n   catch (error) {\r\n      return dispatch({\r\n         type: actionTypes.REQUEST_IMAGE_DATA_FAILED,\r\n         payload: error\r\n      });\r\n   }\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navigation from './components/Navigation/Navigation';\r\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\r\nimport Logo from './components/Logo/Logo';\r\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\r\nimport Rank from './components/Rank/Rank';\r\nimport SignIn from './components/SignIn/SignIn';\r\nimport SignUp from './components/SignUp/SignUp';\r\nimport './App.css';\r\nimport Particles from 'react-particles-js';\r\n\r\nimport { setImageUrl, fetchImageData } from './actions';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    imageUrl: state.image.imageUrl,\r\n    isPending: state.image.isPending,\r\n    imageData: state.image.imageData,\r\n    error: state.image.error\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onInputChange: (event) => dispatch(setImageUrl(event.target.value)),\r\n    onFetchImageData: () => dispatch(fetchImageData())\r\n  }\r\n}\r\n\r\nconst particlesOptions = {\r\n  particles: {\r\n    number: {\r\n        value: 160,\r\n        density: {\r\n            enable: false\r\n        }\r\n    },\r\n    size: {\r\n        value: 3,\r\n        random: true,\r\n        anim: {\r\n            speed: 4,\r\n            size_min: 0.3\r\n        }\r\n    },\r\n    line_linked: {\r\n        enable: false\r\n    },\r\n    move: {\r\n        random: true,\r\n        speed: 1,\r\n        direction: 'top',\r\n        out_mode: 'out'\r\n    }\r\n  },\r\n  interactivity: {\r\n      events: {\r\n          onhover: {\r\n              enable: true,\r\n              mode: 'bubble'\r\n          },\r\n          onclick: {\r\n              enable: true,\r\n              mode: 'repulse'\r\n          }\r\n      },\r\n      modes: {\r\n          bubble: {\r\n              distance: 250,\r\n              duration: 2,\r\n              size: 0,\r\n              opacity: 0\r\n          },\r\n          repulse: {\r\n              distance: 400,\r\n              duration: 4\r\n          }\r\n      }\r\n  }\r\n};\r\nconst serverEndpoint = process.env.REACT_APP_SERVER_ENDPOINT;\r\n\r\n\r\n// https://api.time.com/wp-content/uploads/2017/12/terry-crews-person-of-year-2017-time-magazine-2.jpg\r\n\r\nfunction App(props) {\r\n  const { onInputChange, onFetchImageData, imageUrl, imageData } = props;\r\n  const [user, setUser] = useState({});\r\n  // const [imageData, setImageData] = useState({});\r\n  const [boundingBoxes, setBoundingBoxes] = useState({});\r\n  const [route, setRoute] = useState('signin');\r\n  const [isSignedIn, setIsSignedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    \r\n    if (route.match(/^(?:sign)(?:out|in|up)/gm)) {\r\n      setIsSignedIn(false);\r\n      setUser({});\r\n      setBoundingBoxes('');\r\n      // setImageData({});\r\n    } else {\r\n      setIsSignedIn(true);\r\n    }\r\n  }, [route])\r\n\r\n  useEffect(() => {\r\n    if (imageData) {\r\n      setBoundingBoxes(calculateFaceLocation());\r\n      updateUserEntires();\r\n    }\r\n  }, [imageData])\r\n\r\n  const calculateFaceLocation = () => {\r\n    console.log('calculateFaceLocation called');\r\n    console.log(imageData);\r\n    let boundingBoxes = [];\r\n    // data.regions[].data.concepts\r\n    // data[2] is multicultural model\r\n    if (imageData[2].data.regions.length) {\r\n      imageData[2].data.regions.forEach(region => {\r\n        boundingBoxes.push(region.region_info.bounding_box)\r\n      });\r\n    }\r\n    // const clarifaiBoundingBox = data[2].data.regions[0].region_info.bounding_box;\r\n    \r\n    const image = document.getElementById('input-image');\r\n    // const width = Number(image.width);\r\n    // const height = Number(image.height);\r\n\r\n    // * API currently returns coords as decimal percentage values\r\n    boundingBoxes.forEach(box => {\r\n      box.left_col = `${box.left_col * 100}%`;\r\n      box.top_row = `${box.top_row * 100}%`;\r\n      box.right_col = `${(1 - box.right_col) * 100}%`;\r\n      box.bottom_row = `${(1 - box.bottom_row) * 100}%`;\r\n    })\r\n    // * leaving here in case API updates in the future to return coords as pixel value\r\n    // boundingBoxes.forEach(box => {\r\n    //   box.left_col = `${(box.left_col / width) * 100}%`;\r\n    //   box.top_row = `${(box.top_row / height) * 100}%`;\r\n    //   box.right_col = `${((width - box.right_col) / width) * 100}`;\r\n    //   box.bottom_row = `${((height - box.bottom_row) / height) * 100}`;\r\n    // })\r\n\r\n    return boundingBoxes;\r\n  }\r\n\r\n  const postImageUrlToClarifai = async () => {\r\n    try {\r\n      const data = await onFetchImageData();\r\n      return data;\r\n    }\r\n    catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const onPictureSubmit = () => {\r\n    if (imageUrl) {\r\n      console.log('onButtonSubmit called');\r\n      postImageUrlToClarifai();\r\n    }\r\n  }\r\n\r\n  const onRouteChange = (route) => {\r\n    setRoute(route);\r\n  }\r\n\r\n  const updateUserEntires = async () => {\r\n    try {\r\n      const result = await fetch(`${serverEndpoint}/update-entries`,\r\n        {\r\n          method: 'post',\r\n          headers: {'Content-Type': 'application/json'},\r\n          body: JSON.stringify({ userUUID: user.uuid, entries: user.entries })\r\n        }\r\n      );\r\n      const entriesJson = await result.json();\r\n      setUser({...user, entries: entriesJson.entries});\r\n    }\r\n    catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const initializeActiveUser = user => {\r\n    console.log(user);\r\n    setUser(user);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App flex flex-column pt1\">\r\n      <Particles params={particlesOptions} className=\"particles\" />\r\n      <Navigation onRouteChange={onRouteChange} isSignedIn={isSignedIn} />\r\n      <Logo />\r\n      {\r\n        route === 'signin' ? <SignIn onRouteChange={onRouteChange} initializeActiveUser={initializeActiveUser} serverEndpoint={serverEndpoint} />\r\n          : route === 'signup' ? <SignUp onRouteChange={onRouteChange} initializeActiveUser={initializeActiveUser} serverEndpoint={serverEndpoint} />\r\n            : <>\r\n              <Rank user={user} />\r\n              <ImageLinkForm onInputChange={onInputChange} onPictureSubmit={onPictureSubmit}/>\r\n              <FaceRecognition image={imageUrl} boundingBoxes={boundingBoxes}/>\r\n              <div className=\"tc\">Icons made by <a href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\r\n            </>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { actionTypes } from \"./actions\";\r\n\r\nconst initialState = {\r\n   imageUrl: '',\r\n   isPending: false,\r\n   imageData: null,\r\n   boundingBoxes: [],\r\n   error: null\r\n};\r\n\r\nexport const image = (state=initialState, action={}) => {\r\n   switch (action.type) {\r\n      case actionTypes.UPDATE_IMAGE_URL:\r\n         return {...state, imageUrl: action.payload};\r\n\r\n      case actionTypes.REQUEST_IMAGE_DATA_PENDING:\r\n         return {...state, isPending: true};\r\n\r\n      case actionTypes.REQUEST_IMAGE_DATA_FAILED:\r\n         return {...state, isPending: false, imageData: action.payload};\r\n\r\n      case actionTypes.REQUEST_IMAGE_DATA_SUCCESS:\r\n         return {...state, isPending: false, imageData: action.payload};\r\n\r\n      case actionTypes.UPDATE_BOUNDING_BOXES:\r\n         return {...state, boundingBoxes: action.payload};\r\n\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'tachyons';\r\nimport { image } from './reducers';\r\n\r\nlet store;\r\nconst rootReducer = combineReducers({ image });\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  const logger = createLogger();\r\n  store = createStore(rootReducer, applyMiddleware(thunk, logger));\r\n} else {\r\n  store = createStore(rootReducer, applyMiddleware(thunk));\r\n}\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}